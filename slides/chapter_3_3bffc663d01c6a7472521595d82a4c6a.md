---
title: Insert title here
key: 3bffc663d01c6a7472521595d82a4c6a

---
## Introduction to hierarchical Data

```yaml
type: "TitleSlide"
key: "2da2794224"
```

`@lower_third`

name: Dominik Egarter
title: IT Solution Architect Data Analytics


`@script`
In this chapter we will learn the basics about hierarchical queries. To do this, we have at first to give a look in detail about the basics of hierarchical data and its data structures


---
## What is a hierarchy?

```yaml
type: "FullCodeSlide"
key: "7f8eebcd79"
```

`@part1`
> A **hierarchy** is an arrangement of **items**  in which the items are represented as being "**above**", "**below**", or "at the same level as" one another.
_from Wikipedia_
![](https://assets.datacamp.com/production/repositories/4213/datasets/bb9182cfc37b4d0abc3290a77b91330a7ef9af91/hierarchyGeneral.jpg)


`@script`
In general, if we are thinking about hierarchy we are talking about an arrangement of items which are connected in an ordered way. Accordingly, one item has one item above, below or on the same level. I think the moste obvious example therefore is the organization of a company, where each employee has its boss or the bill of materials, where a car is built by different parts as an engine or the body of the car. The question is now how the items are arranged to each other? Are all connected to each other? Has one item only one item above or below?


---
## Present hierarchy as a tree

```yaml
type: "FullCodeSlide"
key: "338146a1c2"
disable_transition: false
```

`@part1`
![](https://assets.datacamp.com/production/repositories/4213/datasets/64b5ed02c0f1ff079c3d1779faaa6d13c4bfeec7/differentStructures.png)


`@script`
To answer these questions, we want to talk about how we could present a tree in general and how the tree of an hierarchy is define. In the presented pictures we can see 3 different examples of a data structure. The right one connected to each other, the middle one has separeted connections and the left one with its structure. The question now is, what structure represents a tree in moreover a hierarchy?


---
## Present hierarchy as a tree

```yaml
type: "FullCodeSlide"
key: "51763f7ea7"
disable_transition: false
```

`@part1`
- Each child record has only one parent.
- Each parent record can have one or more child records.

![](https://assets.datacamp.com/production/repositories/4213/datasets/36906347a2c4fb68d4de6c053410229d3d4924d0/compareStructure.png)


`@script`
The answer is the left one. The left one represents a hierarchy. The explanation therefore is that each item has only connections below, above and on the same level, each child has only one parent and each parent has one or more child. This definition is not valid for the middle and the right data structure. Here the items a interconnected to each other as in the right picture and we have several parents which are not connected to each other as in the middle pictures. The right structure represents a general network as we know it for example in a telecommunication network and the middle could be viewed as market representation with several members and their companies and products.


---
## Hierarchy as relational tables

```yaml
type: "TwoColumns"
key: "4bf0f32e18"
```

`@part1`
**Employee Table
**
![](https://assets.datacamp.com/production/repositories/4213/datasets/b8c369a806c13036da9c809096bc7181318dd922/empTable.png){{1}}


`@part2`
**Department Table
**
![](https://assets.datacamp.com/production/repositories/4213/datasets/36d468b58ab90a41a4ec4dc03080187595d726fc/DeptTable.png)


`@script`



---
## Hierarchy as relational tables

```yaml
type: "TwoColumns"
key: "ea6dac5e1d"
```

`@part1`
**Both Tables:**
![](https://assets.datacamp.com/production/repositories/4213/datasets/fe7ad8a90849dcaf42cc37b90dd0283b447cba2c/empDepTable.png)


`@part2`
**Joined Table**
![](https://assets.datacamp.com/production/repositories/4213/datasets/3fb97f690c130f38c1d43ead69f1585b283d9827/joinedDataOrg.png)

- Two tables needed
- Join operation needed


`@script`



---
## Hierarchy as tree structure model

```yaml
type: "FullImageSlide"
key: "07e0132c02"
```

`@part1`



`@script`



---
## Advantages and disadvantages

```yaml
type: "TwoColumns"
key: "624d1a774e"
```

`@part1`
**Pro's:**
- **Supported** in **common** SQL database 
- Each node is visited **twice**: querying is **inexpensive**
- **Higher** performance
- **No additional** tables are needed


`@part2`
**Con's:**

- **No complex relational** data is present
- Tree and hierarchy is **not often changing**
- **Slow** for **inserting** steps because the entire table has to be updated


`@script`
To summaries now the advantages and disadvantages of hierarchical data we want at first to talk about the pro'. In common sql databases hierarchical structures are supported. Accordingly querying this tables is fast and inexpensive. We have to query one table in which the information is represented by two values. Due to the fact that we only need one table there is also no need for a table representing the relation between items! If we are now thinking about the disadvantages, we have to consider that the presented data is not changing often. Modifying hierarchical tables by for example inserting a new item the whole table has to be updated. Each number representing the items' hierarchy has to be changed. Moreover, it is useful not to represent too complex data with hierarchical trees. In this situation it is better to establish a foreign key table relationship.


---
## Let's practise

```yaml
type: "FinalSlide"
key: "9126dc415d"
```

`@script`
Up to now we have heard a lot about hierarchical data and when we should use them and when we should not use them. In the following exercises you have to answer several questions to prove your understanding of hierarchical data.

